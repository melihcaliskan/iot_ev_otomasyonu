#include <ESP8266WiFi.h>
#include <ESP8266WebServer.h>
#include <Wire.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64

Adafruit_SSD1306 ekran(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, -1);

const char *ssid = "ESP8266";
const char *password = "123456789";
float sicaklik;

int redPin = D7;   // Red LED
int grnPin = D6;  // Green LED
int bluPin = D8;  // Blue LED

ESP8266WebServer sunucu(80);

void setup() {
  // Pinler çıkış olarak ayarlanıyor
  pinMode(D0, OUTPUT);
  pinMode(D1, OUTPUT);
  pinMode(D2, OUTPUT);
  pinMode(D3, OUTPUT);
  pinMode(D4, OUTPUT);
  pinMode(D5, OUTPUT);
  pinMode(D8, OUTPUT);

  pinMode(redPin, OUTPUT);
  pinMode(grnPin, OUTPUT);
  pinMode(bluPin, OUTPUT);

  digitalWrite(D0, LOW);
  digitalWrite(D1, LOW);
  digitalWrite(D2, LOW);
  digitalWrite(D3, LOW);
  digitalWrite(D4, LOW);
  digitalWrite(D5, LOW);

  ekran.begin(SSD1306_SWITCHCAPVCC, 0x3C);

  Serial.begin(115200);
  delay(500);
  Serial.println("Erisim noktası olarak ayarlaniyor...");

  WiFi.mode(WIFI_AP);
  WiFi.softAP(ssid, password);
  IPAddress erisim_IP = WiFi.softAPIP();
  Serial.print("AP IP address: ");
  Serial.println(erisim_IP);

  yazdir(erisim_IP, true);

  sunucu.on("/", anasayfa);
  sunucu.on("/petekler", petekler);
  sunucu.on("/sicaklik", sicaklik_sayfasi);
  sunucu.on("/led", led_sayfasi);
  sunucu.onNotFound(bilinmeyen_sayfa);
  sunucu.begin();
  Serial.println("HTTP sunucusu baslatildi");
}
void loop() {
  sunucu.handleClient();
}
void anasayfa() {
  String anasayfa = "<!DOCTYPE html>";
  anasayfa += "<html lang=\"tr\">";
  anasayfa += "<head>";
  anasayfa += "    <meta charset=\"UTF-8\">";
  anasayfa += "    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">";
  anasayfa += "    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">";
  anasayfa += "    <title>Ev Otomasyonu</title>";
  anasayfa += "</head>";
  anasayfa += "<body class=\"body\">";
  anasayfa += "    <nav class=\"navbar\">";
  anasayfa += "        <div class=\"header-left-container\">";
  anasayfa += "            <a href=\"/\" class=\"title\">";
  anasayfa += "                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\">";
  anasayfa += "                    <path d=\"M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z\" /></svg>";
  anasayfa += "                <span class=\"font-semibold text-xl tracking-tight\">Ev Otomasyonu</span>";
  anasayfa += "            </a>";
  anasayfa += "            <div class=\"header-links\">";
  anasayfa += "                <a href=\"/sicaklik\"";
  anasayfa += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  anasayfa += "                    Anlık Sıcaklık";
  anasayfa += "                </a>";
  anasayfa += "                <a href=\"/petekler\"";
  anasayfa += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  anasayfa += "                    Petek Durumu";
  anasayfa += "                </a>";
  anasayfa += "                <a href=\"/led?r=255&g=255&b=255\"";
  anasayfa += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  anasayfa += "                    Ampul Durumu";
  anasayfa += "                </a>";
  anasayfa += "            </div>";
  anasayfa += "        </div>";
  if (sicaklik_olc() < 25) {
    anasayfa += "        <div class=\"alert\">";
    anasayfa += "            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">";
    anasayfa += "                <path";
    anasayfa += "                    d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-.001 5.75c.69 0 1.251.56 1.251 1.25s-.561 1.25-1.251 1.25-1.249-.56-1.249-1.25.559-1.25 1.249-1.25zm2.001 12.25h-4v-1c.484-.179 1-.201 1-.735v-4.467c0-.534-.516-.618-1-.797v-1h3v6.265c0 .535.517.558 1 .735v.999z\" />";
    anasayfa += "            </svg>";
    anasayfa += "            <span class=\"font-semibold mr-2 text-left flex-auto\">";
    anasayfa += "                Sıcaklık 25°'nin altına düştüğü için role aktif hale getirildi.";
    anasayfa += "            </span>";
    anasayfa += "        </div>";
  }
  anasayfa += "        <div class=\"shutdown-button\">";
  anasayfa += "            <a href=\"#responsive-header\">";
  anasayfa += "                Sistemi Kapat";
  anasayfa += "            </a>";
  anasayfa += "        </div>";
  anasayfa += "    </nav>";
  anasayfa += "    <div class=\"second-navbar\">";
  anasayfa += "        <div class=\"info-container\">";
  anasayfa += "            <div class=\"header-info\">";
  anasayfa += "                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">";
  anasayfa += "                    <path";
  anasayfa += "                        d=\"M12 3c-4.006 0-7.267 3.141-7.479 7.092-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h13c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.521-5.408-.212-3.951-3.473-7.092-7.479-7.092z\" />";
  anasayfa += "                </svg>";
  anasayfa += "                <span>Sıcaklık:";
  anasayfa +=                    sicaklik_olc();
  anasayfa += "                   °</span>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"header-info\">";
  anasayfa += "                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">";
  anasayfa += "                    <path d=\"M8 24l3-9h-9l14-15-3 9h9l-14 15z\" /></svg>";
  anasayfa += "                <span>Röle: Aktif</span>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"header-info\">";
  anasayfa += "";
  anasayfa += "                <span>Buzzer: Kapalı</span>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"header-info\">";
  anasayfa += "                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">";
  anasayfa += "                    <path";
  anasayfa += "                        d=\"M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z\" />";
  anasayfa += "                </svg>";
  anasayfa += "                <span>IP adresi: 192.168.4.1</span>";
  anasayfa += "            </div>";
  anasayfa += "        </div>";
  anasayfa += "        <div class=\"header-info\">";
  anasayfa += "            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\">";
  anasayfa += "                <path";
  anasayfa += "                    d=\"M9 12l-4.463 4.969-4.537-4.969h3c0-4.97 4.03-9 9-9 2.395 0 4.565.942 6.179 2.468l-2.004 2.231c-1.081-1.05-2.553-1.699-4.175-1.699-3.309 0-6 2.691-6 6h3zm10.463-4.969l-4.463 4.969h3c0 3.309-2.691 6-6 6-1.623 0-3.094-.65-4.175-1.699l-2.004 2.231c1.613 1.526 3.784 2.468 6.179 2.468 4.97 0 9-4.03 9-9h3l-4.537-4.969z\" />";
  anasayfa += "            </svg>";
  anasayfa += "            <span>Son güncellenme: <span id=\"date\"></span> </span>";
  anasayfa += "        </div>";
  anasayfa += "    </div>";
  anasayfa += "    <div class=\"content\">";
  anasayfa += "        <p class=\"hello\">Merhaba</p>";
  anasayfa += "        <p id=\"clock\"></p>";
  anasayfa += "";
  anasayfa += "        <div class=\"grid-container\">";
  anasayfa += "            <div class=\"item-container\">";
  anasayfa += "                <div class=\"item-title\">";
  anasayfa += "                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 26 26\">";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"M12 3c-4.006 0-7.267 3.141-7.479 7.092-2.57.463-4.521 2.706-4.521 5.408 0 3.037 2.463 5.5 5.5 5.5h13c3.037 0 5.5-2.463 5.5-5.5 0-2.702-1.951-4.945-4.521-5.408-.212-3.951-3.473-7.092-7.479-7.092z\" />";
  anasayfa += "                    </svg>";
  anasayfa += "                    <p>Sıcaklık</p>";
  anasayfa += "                </div>";
  anasayfa += "                <p class=\"item-value\">";
  anasayfa +=                   sicaklik_olc();
  anasayfa +=                   "°</p>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"item-container\">";
  anasayfa += "                <div class=\"item-title\">";
  anasayfa += "                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 26 26\">";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"M19 6.734c0 4.672-4.25 7.079-4.25 12.266h-5.5c0-5.187-4.25-7.594-4.25-12.266 0-4.343 3.498-6.734 6.996-6.734 3.502 0 7.004 2.394 7.004 6.734zm-4.75 13.266h-4.5c-.276 0-.5.224-.5.5s.224.5.5.5h4.5c.276 0 .5-.224.5-.5s-.224-.5-.5-.5zm.25 2h-5l1.451 1.659c.19.216.464.341.753.341h.593c.288 0 .563-.125.752-.341l1.451-1.659z\" />";
  anasayfa += "                    </svg>";
  anasayfa += "                    <p>Ampul rengi</p>";
  anasayfa += "                </div>";
  anasayfa += "                <p class=\"item-value\">";
  anasayfa += "                    <select>";
  anasayfa += "                        <option value=\"f7d794\">#f7d794</option>";
  anasayfa += "                        <option value=\"63cdda\">#63cdda</option>";
  anasayfa += "                        <option value=\"cf6a87\">#cf6a87</option>";
  anasayfa += "                        <option value=\"f3a683\">#f3a683</option>";
  anasayfa += "                    </select>";
  anasayfa += "                </p>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"item-container\">";
  anasayfa += "                <div class=\"item-title\">";
  anasayfa += "                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 26 26\">";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"M17.5 2c.827 0 1.5.673 1.5 1.5v7.525c0 1.569.514 2.287 1.411 3.05 1.01.858 1.589 2.106 1.589 3.425 0 2.481-2.019 4.5-4.5 4.5s-4.5-2.019-4.5-4.5c0-1.319.579-2.567 1.59-3.425.896-.761 1.41-1.479 1.41-3.05v-7.525c0-.827.673-1.5 1.5-1.5zm0-2c-1.933 0-3.5 1.567-3.5 3.5v7.525c0 .587-.258 1.146-.705 1.525-1.403 1.192-2.295 2.965-2.295 4.95 0 3.59 2.909 6.5 6.5 6.5s6.5-2.91 6.5-6.5c0-1.985-.892-3.758-2.295-4.95-.447-.38-.705-.938-.705-1.525v-7.525c0-1.933-1.567-3.5-3.5-3.5zm2.107 14.718c-1.012-.89-1.607-1.734-1.607-3.22v-6.498h-1v6.498c0 1.484-.597 2.332-1.607 3.22-.794.698-1.393 1.642-1.393 2.782 0 1.933 1.567 3.5 3.5 3.5s3.5-1.567 3.5-3.5c0-1.14-.599-2.083-1.393-2.782zm-13.107-8.718c1.379 0 2.5 1.122 2.5 2.5s-1.121 2.5-2.5 2.5-2.5-1.122-2.5-2.5 1.121-2.5 2.5-2.5zm0-1c-1.933 0-3.5 1.567-3.5 3.5s1.567 3.5 3.5 3.5 3.5-1.567 3.5-3.5-1.567-3.5-3.5-3.5zm-4.5 3.5c0-.171.032-.333.051-.5h-2.051v1h2.051c-.019-.167-.051-.329-.051-.5zm1.705-3.501l-1.448-1.449-.707.707 1.448 1.448c.21-.261.445-.497.707-.706zm6.297.706l1.447-1.448-.707-.707-1.448 1.448c.263.21.498.445.708.707zm-3.502-1.705c.171 0 .334.032.5.05v-2.05h-1v2.05c.166-.018.329-.05.5-.05zm0 9c-.171 0-.334-.032-.5-.05v2.05h1v-2.05c-.166.018-.329.05-.5.05zm4.449-5c.019.167.051.329.051.5l-.051.5h2.051v-1h-2.051zm-7.951 3.294l-1.448 1.449.707.707 1.448-1.448c-.262-.21-.497-.446-.707-.708zm6.296.708l1.448 1.448.707-.707-1.447-1.448c-.21.262-.445.497-.708.707z\" />";
  anasayfa += "                    </svg>";
  anasayfa += "                    <p>Kombi Durumu</p>";
  anasayfa += "                </div>";
  anasayfa += "                <p class=\"item-value\">Açık</p>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"item-container\">";
  anasayfa += "                <div class=\"item-title\">";
  anasayfa += "                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 26 26\">";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"M19.5 15c-2.483 0-4.5 2.015-4.5 4.5s2.017 4.5 4.5 4.5 4.5-2.015 4.5-4.5-2.017-4.5-4.5-4.5zm2.5 5h-5v-1h5v1zm-7.18 4h-14.815l-.005-1.241c0-2.52.199-3.975 3.178-4.663 3.365-.777 6.688-1.473 5.09-4.418-4.733-8.729-1.35-13.678 3.732-13.678 6.751 0 7.506 7.595 3.64 13.679-1.292 2.031-2.64 3.63-2.64 5.821 0 1.747.696 3.331 1.82 4.5z\" />";
  anasayfa += "                    </svg>";
  anasayfa += "                    <p>Algılanan<br>Tehditler</p>";
  anasayfa += "                </div>";
  anasayfa += "                <p class=\"item-value\">0</p>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"item-container\">";
  anasayfa += "                <div class=\"item-title\">";
  anasayfa += "                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"35\" viewBox=\"0 0 26 26\">";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"M15.137 3.945c-.644-.374-1.042-1.07-1.041-1.82v-.003c.001-1.172-.938-2.122-2.096-2.122s-2.097.95-2.097 2.122v.003c.001.751-.396 1.446-1.041 1.82-4.667 2.712-1.985 11.715-6.862 13.306v1.749h20v-1.749c-4.877-1.591-2.195-10.594-6.863-13.306zm-3.137-2.945c.552 0 1 .449 1 1 0 .552-.448 1-1 1s-1-.448-1-1c0-.551.448-1 1-1zm3 20c0 1.598-1.392 3-2.971 3s-3.029-1.402-3.029-3h6zm5.778-11.679c.18.721.05 1.446-.304 2.035l.97.584c.504-.838.688-1.869.433-2.892-.255-1.024-.9-1.848-1.739-2.351l-.582.97c.589.355 1.043.934 1.222 1.654zm.396-4.346l-.597.995c1.023.616 1.812 1.623 2.125 2.874.311 1.251.085 2.51-.53 3.534l.994.598c.536-.892.835-1.926.835-3-.001-1.98-1.01-3.909-2.827-5.001zm-16.73 2.692l-.582-.97c-.839.504-1.484 1.327-1.739 2.351-.255 1.023-.071 2.053.433 2.892l.97-.584c-.354-.588-.484-1.314-.304-2.035.179-.72.633-1.299 1.222-1.654zm-4.444 2.308c0 1.074.299 2.108.835 3l.994-.598c-.615-1.024-.841-2.283-.53-3.534.312-1.251 1.101-2.258 2.124-2.873l-.597-.995c-1.817 1.092-2.826 3.021-2.826 5z\" />";
  anasayfa += "                    </svg>";
  anasayfa += "                    <p>Buzzer</p>";
  anasayfa += "                </div>";
  anasayfa += "                <p class=\"item-value\">Kapalı</p>";
  anasayfa += "            </div>";
  anasayfa += "            <div class=\"item-container\">";
  anasayfa += "                <div class=\"item-title\">";
  anasayfa += "                    <svg width=\"35\" height=\"35\" viewBox=\"0 0 511 511.998\" xmlns=\"http://www.w3.org/2000/svg\">";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m196.617188 116.683594h29.996093c0-6.183594 1.164063-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113281-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164063-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277343 12.746094-2.71875 5.4375-6.4375 12.886718-6.4375 26.148437 0 13.265625 3.722656 20.714844 6.4375 26.152344 2.113281 4.230469 3.277343 6.558594 3.277343 12.746094 0 6.183593-1.164062 8.511719-3.277343 12.738281-2.714844 5.441406-6.4375 12.890625-6.4375 26.152344zm0 0\" />";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m266.65625 116.683594h30c0-6.183594 1.164062-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113282-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164062-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113282 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164062 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m336.699219 116.683594h30c0-6.183594 1.164062-8.511719 3.277343-12.742188 2.71875-5.4375 6.441407-12.886718 6.441407-26.148437s-3.722657-20.714844-6.441407-26.152344c-2.113281-4.230469-3.277343-6.558594-3.277343-12.746094 0-6.183593 1.164062-8.511719 3.277343-12.742187 2.71875-5.4375 6.441407-12.890625 6.441407-26.152344h-30c0 6.1875-1.164063 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113281 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164063 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m201.179688 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667969 27.667969 15.253906 0 27.667968-12.410156 27.667968-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667968-27.667969zm0 0\" />";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m286.515625 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.414063 27.667969 27.667969 27.667969 15.257813 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667969-27.667969zm0 0\" />";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m371.851562 146.707031c-15.253906 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.414062 27.667969 27.667968 27.667969 15.257813 0 27.671876-12.410156 27.671876-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.671876-27.667969zm0 0\" />";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m88.171875 299.734375v184.59375c0 15.257813 12.414063 27.667969 27.671875 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.671875 12.410157-27.671875 27.667969v35.3125h-57.648437v30.023438h-30.023438v30h30.023438v30.023437zm0 0\" />";
  anasayfa += "                        <path";
  anasayfa += "                            d=\"m484.859375 209.6875v-35.3125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667968 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-244.640625h27.625v-30zm0 0\" />";
  anasayfa += "                    </svg>";
  anasayfa += "                    <p>Petekler</p>";
  anasayfa += "                </div>";
  anasayfa += "                <p class=\"item-value\">Açık</p>";
  anasayfa += "            </div>";
  anasayfa += "        </div>";
  anasayfa += "    </div>";
  anasayfa += "";
  anasayfa += "    <style>";
  anasayfa += "        .body {";
  anasayfa += "            line-height: 1;";
  anasayfa += "            font-family: -apple-system, BlinkMacSystemFont, sans-serif;";
  anasayfa += "            color: #464646;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        a {";
  anasayfa += "            color: #464646;";
  anasayfa += "            text-decoration: none;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        /** NAVBAR **/";
  anasayfa += "        .navbar {";
  anasayfa += "            display: flex;";
  anasayfa += "            justify-content: space-between;";
  anasayfa += "            align-items: center;";
  anasayfa += "            padding: 1.5em;";
  anasayfa += "            background: #4C5566;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .navbar .title svg {";
  anasayfa += "            fill: white;";
  anasayfa += "            size: 24px;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .navbar .title span {";
  anasayfa += "            font-size: 24px;";
  anasayfa += "            font-weight: 700;";
  anasayfa += "            color: white;";
  anasayfa += "            margin-left: 0.3em;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .navbar .title {";
  anasayfa += "            margin-right: 2em;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .header-left-container {";
  anasayfa += "            display: flex;";
  anasayfa += "            align-items: center;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .header-links a {";
  anasayfa += "            color: white;";
  anasayfa += "            margin-right: 10px;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .shutdown-button {";
  anasayfa += "            background-color: #e53e3e;";
  anasayfa += "            border-radius: 30px;";
  anasayfa += "            padding: 0.6em;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .shutdown-button a {";
  anasayfa += "            color: white;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        /** 2. NAVBAR **/";
  anasayfa += "";
  anasayfa += "        .second-navbar {";
  anasayfa += "            display: flex;";
  anasayfa += "            justify-content: space-between;";
  anasayfa += "            align-items: center;";
  anasayfa += "            padding: 1.2em 1.5em;";
  anasayfa += "            background: #2F3747;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .second-navbar .info-container {";
  anasayfa += "            display: flex;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .header-info {";
  anasayfa += "            display: flex;";
  anasayfa += "            align-items: center;";
  anasayfa += "            background-color: #1B202B;";
  anasayfa += "            border-radius: 6px;";
  anasayfa += "            padding: 0.7em 1em;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .header-info svg {";
  anasayfa += "            fill: rgba(255, 255, 255, 0.7);";
  anasayfa += "            margin-right: 10px;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .header-info span {";
  anasayfa += "            color: rgba(255, 255, 255, 0.7);";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .second-navbar .info-container .header-info {";
  anasayfa += "            margin-right: 1em;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .alert {";
  anasayfa += "            display: flex;";
  anasayfa += "            align-items: center;";
  anasayfa += "            background-color: #42438B;";
  anasayfa += "            color: white;";
  anasayfa += "            border-radius: 30px;";
  anasayfa += "            padding-right: 1.2em;";
  anasayfa += "            padding-top: 0.2em;";
  anasayfa += "            padding-bottom: 0.2em;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .alert svg {";
  anasayfa += "            margin: 0 10px;";
  anasayfa += "            padding: 0.6em;";
  anasayfa += "            border-radius: 30px;";
  anasayfa += "            background-color: #363770;";
  anasayfa += "            fill: rgba(255, 255, 255, 0.8);";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "";
  anasayfa += "";
  anasayfa += "        /* İÇERİK */";
  anasayfa += "        .content {";
  anasayfa += "            display: flex;";
  anasayfa += "            flex-direction: column;";
  anasayfa += "            align-items: center;";
  anasayfa += "            padding: 5em 0 0 0;";
  anasayfa += "            margin-bottom:5em";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .content .hello {";
  anasayfa += "            font-size: 30px;";
  anasayfa += "            margin-bottom: 1em;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .content #clock {";
  anasayfa += "            font-size: 60px;";
  anasayfa += "            font-weight: 700;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container {";
  anasayfa += "            margin-top: 5em;";
  anasayfa += "            display: grid;";
  anasayfa += "            grid-template-columns: 240px 240px 240px;";
  anasayfa += "            grid-template-rows: 240px 240px;";
  anasayfa += "            row-gap: 15px;";
  anasayfa += "            column-gap: 15px;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container {";
  anasayfa += "            display: flex;";
  anasayfa += "            flex-direction: column;";
  anasayfa += "            justify-content: space-between;";
  anasayfa += "            border-radius: 12px;";
  anasayfa += "            cursor: pointer;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container svg {";
  anasayfa += "            fill: rgba(0, 0, 0, 0.7)";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container:nth-of-type(1) {";
  anasayfa += "            background: #f7d794;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container:nth-of-type(2) {";
  anasayfa += "            background: #63cdda;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container:nth-of-type(3) {";
  anasayfa += "            background: #cf6a87;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container:nth-of-type(4) {";
  anasayfa += "            background: #63a3da";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container:nth-of-type(5) {";
  anasayfa += "            background: #f8a5c2;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container:nth-of-type(6) {";
  anasayfa += "            background: #85eaad";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container .item-title {";
  anasayfa += "            font-size: 20px;";
  anasayfa += "            font-weight: 300;";
  anasayfa += "            padding: 1em;";
  anasayfa += "            line-height: 30px;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container .item-title p {";
  anasayfa += "            margin: 0.4em 0;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container .item-value {";
  anasayfa += "            font-size: 25px;";
  anasayfa += "            font-weight: 500;";
  anasayfa += "            padding: 1em;";
  anasayfa += "            background: rgba(255, 255, 255, 0.5);";
  anasayfa += "            border-bottom-left-radius: 10px;";
  anasayfa += "            border-bottom-right-radius: 10px;";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        .grid-container .item-container .item-value p select {";
  anasayfa += "            transform: scale(1.2);";
  anasayfa += "        }";
  anasayfa += "";
  anasayfa += "        /* 2. CONTAİNER */";
  anasayfa += "        .second-container-title {";
  anasayfa += "            font-size: 30px;";
  anasayfa += "            font-weight: 500;";
  anasayfa += "            margin-bottom: -30px;";
  anasayfa += "            margin-right: 17em;";
  anasayfa += "        }";
  anasayfa += "    </style>";
  anasayfa += "    <script>";
  anasayfa += "       n = new Date(); y = n.getFullYear(); m = n.getMonth() + 1; d = n.getDate(); var dt = new Date();";  
  anasayfa += "       document.getElementById(\"date\").innerHTML = dt.getFullYear();";
  anasayfa += "        function startTime() {";
  anasayfa += "            var today = new Date(); var h = today.getHours(); var m = today.getMinutes(); var s = today.getSeconds();";
  anasayfa += "                m = checkTime(m); s = checkTime(s); document.getElementById('clock').innerHTML = h + \":\" + m + \":\" + s; var t = setTimeout(startTime, 500);";
  anasayfa += "        }";
  anasayfa += "        function checkTime(i) { if (i < 10) { i = \"0\" + i }; return i;}";
  anasayfa += "        document.addEventListener(\"DOMContentLoaded\", function () {";
  anasayfa += "            startTime();";
  anasayfa += "        });";
  anasayfa += "    </script>";
  anasayfa += "    <style>";
  anasayfa += "        html, body, div, span, applet, object, iframe,";
  anasayfa += "        h1, h2, h3, h4, h5, h6, p, blockquote, pre,";
  anasayfa += "        a, abbr, acronym, address, big, cite, code,";
  anasayfa += "        del, dfn, em, img, ins, kbd, q, s, samp,";
  anasayfa += "        small, strike, strong, sub, sup, tt, var,";
  anasayfa += "        b, u, i, center,";
  anasayfa += "        dl, dt, dd, ol, ul, li,";
  anasayfa += "        fieldset, form, label, legend,";
  anasayfa += "        table, caption, tbody, tfoot, thead, tr, th, td,";
  anasayfa += "        article, aside, canvas, details, embed, ";
  anasayfa += "        figure, figcaption, footer, header, hgroup, ";
  anasayfa += "        menu, nav, output, ruby, section, summary,";
  anasayfa += "        time, mark, audio, video {";
  anasayfa += "            margin: 0;";
  anasayfa += "            padding: 0;";
  anasayfa += "            border: 0;";
  anasayfa += "            font-size: 100%;";
  anasayfa += "            font: inherit;";
  anasayfa += "            vertical-align: baseline;";
  anasayfa += "        }";
  anasayfa += "        /* HTML5 display-role reset for older browsers */";
  anasayfa += "        article, aside, details, figcaption, figure, ";
  anasayfa += "        footer, header, hgroup, menu, nav, section {";
  anasayfa += "            display: block;";
  anasayfa += "        }";
  anasayfa += "        body {";
  anasayfa += "            line-height: 1;";
  anasayfa += "        }";
  anasayfa += "        ol, ul {";
  anasayfa += "            list-style: none;";
  anasayfa += "        }";
  anasayfa += "        blockquote, q {";
  anasayfa += "            quotes: none;";
  anasayfa += "        }";
  anasayfa += "        blockquote:before, blockquote:after,";
  anasayfa += "        q:before, q:after {";
  anasayfa += "            content: '';";
  anasayfa += "            content: none;";
  anasayfa += "        }";
  anasayfa += "        table {";
  anasayfa += "            border-collapse: collapse;";
  anasayfa += "            border-spacing: 0;";
  anasayfa += "        }";
  anasayfa += "    </style>";
  anasayfa += "</body>";
  anasayfa += "</html>";
  sunucu.send(200, "text/html; charset=utf-8", anasayfa);
}
void petekler() {
  for (int i = 0; i < sunucu.args(); i++) {
    if (sunucu.arg(i) == "D0") {
      digitalWrite(D0, !digitalRead(D0));
      Serial.println("Debug 1");
    } else  if (sunucu.arg(i) == "D1") {
      digitalWrite(D1, !digitalRead(D1));
      Serial.println("Debug 2");
    } else  if (sunucu.arg(i) == "D2") {
      digitalWrite(D2, !digitalRead(D2));
      Serial.println("Debug 3");
    } else  if (sunucu.arg(i) == "D3") {
      digitalWrite(D3, !digitalRead(D3));
      Serial.println("Debug 4");
    } else  if (sunucu.arg(i) == "D4") {
      digitalWrite(D4, !digitalRead(D4));
      Serial.println("Debug 5");
    } else  if (sunucu.arg(i) == "D5") {
      digitalWrite(D5, !digitalRead(D5));
      Serial.println("Debug 5");
    }
  }

  Serial.println(digitalRead(D0));
  Serial.println(digitalRead(D1));
  Serial.println(digitalRead(D2));
  Serial.println(digitalRead(D3));
  Serial.println(digitalRead(D4));
  Serial.println(digitalRead(D5));

  String sayfa = "<!DOCTYPE html>";
  sayfa += "<html lang=\"tr\">";
  sayfa += "<head>";
  sayfa += "    <meta charset=\"UTF-8\">";
  sayfa += "    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">";
  sayfa += "    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">";
  sayfa += "    <title>Ev Otomasyonu</title>";
  sayfa += "</head>";
  sayfa += "<body class=\"body\">";
  sayfa += "    <nav class=\"navbar\">";
  sayfa += "        <div class=\"header-left-container\">";
  sayfa += "            <a href=\"/\" class=\"title\">";
  sayfa += "                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\">";
  sayfa += "                    <path d=\"M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z\" /></svg>";
  sayfa += "                <span class=\"font-semibold text-xl tracking-tight\">Ev Otomasyonu</span>";
  sayfa += "                </a>";
  sayfa += "            <div class=\"header-links\">";
  sayfa += "                <a href=\"/sicaklik\"";
  sayfa += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  sayfa += "                    Anlık Sıcaklık";
  sayfa += "                </a>";
  sayfa += "                <a href=\"/petekler\"";
  sayfa += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  sayfa += "                    Petek Durumu";
  sayfa += "                </a>";
  sayfa += "                <a href=\"/led?r=255&g=255&b=255\"";
  sayfa += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  sayfa += "                    Ampul Durumu";
  sayfa += "                </a>";
  sayfa += "            </div>";
  sayfa += "        </div>";
  sayfa += "        <div class=\"shutdown-button\">";
  sayfa += "            <a href=\"#responsive-header\">";
  sayfa += "                Sistemi Kapat";
  sayfa += "            </a>";
  sayfa += "        </div>";
  sayfa += "    </nav>";
  sayfa += "    <div class=\"content\">";
  sayfa += "        <p class=\"second-container-title\">Petek Durumları</p>";
  sayfa += "        <div class=\"grid-container\">";
  sayfa += "            <a href=\"/petekler?port=D0\" class=\"item-container\" style=\"background-color:";
  sayfa +=              digitalRead(D0) ? "#63da89;" : "#e386a1;";
  sayfa += "             \">";
  sayfa += "                <div class=\"item-title\">";
  sayfa += "                    <svg width=\"35\" height=\"35\" viewBox=\"0 0 511 511.998\" xmlns=\"http://www.w3.org/2000/svg\">";
  sayfa += "                        <path";
  sayfa += "                            d=\"m196.617188 116.683594h29.996093c0-6.183594 1.164063-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113281-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164063-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277343 12.746094-2.71875 5.4375-6.4375 12.886718-6.4375 26.148437 0 13.265625 3.722656 20.714844 6.4375 26.152344 2.113281 4.230469 3.277343 6.558594 3.277343 12.746094 0 6.183593-1.164062 8.511719-3.277343 12.738281-2.714844 5.441406-6.4375 12.890625-6.4375 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m266.65625 116.683594h30c0-6.183594 1.164062-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113282-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164062-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113282 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164062 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m336.699219 116.683594h30c0-6.183594 1.164062-8.511719 3.277343-12.742188 2.71875-5.4375 6.441407-12.886718 6.441407-26.148437s-3.722657-20.714844-6.441407-26.152344c-2.113281-4.230469-3.277343-6.558594-3.277343-12.746094 0-6.183593 1.164062-8.511719 3.277343-12.742187 2.71875-5.4375 6.441407-12.890625 6.441407-26.152344h-30c0 6.1875-1.164063 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113281 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164063 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m201.179688 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667969 27.667969 15.253906 0 27.667968-12.410156 27.667968-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667968-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m286.515625 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.414063 27.667969 27.667969 27.667969 15.257813 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667969-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m371.851562 146.707031c-15.253906 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.414062 27.667969 27.667968 27.667969 15.257813 0 27.671876-12.410156 27.671876-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.671876-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m88.171875 299.734375v184.59375c0 15.257813 12.414063 27.667969 27.671875 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.671875 12.410157-27.671875 27.667969v35.3125h-57.648437v30.023438h-30.023438v30h30.023438v30.023437zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m484.859375 209.6875v-35.3125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667968 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-244.640625h27.625v-30zm0 0\" />";
  sayfa += "                    </svg>";
  sayfa += "                    <p>Petek 1</p>";
  sayfa += "                </div>";
  sayfa += "                <p class=\"item-value\"  style=\"margin:0\">";
  sayfa +=                  digitalRead(D0) ? "Açık" : "Kapalı";
  sayfa += "                </p>";
  sayfa += "            </a>";

  sayfa += "            <a href=\"/petekler?port=D3\" class=\"item-container\" style=\"background-color:";
  sayfa +=              digitalRead(D3) ? "#63da89;" : "#e386a1;";
  sayfa += "             \">";
  sayfa += "                <div class=\"item-title\">";
  sayfa += "                    <svg width=\"35\" height=\"35\" viewBox=\"0 0 511 511.998\" xmlns=\"http://www.w3.org/2000/svg\">";
  sayfa += "                        <path";
  sayfa += "                            d=\"m196.617188 116.683594h29.996093c0-6.183594 1.164063-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113281-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164063-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277343 12.746094-2.71875 5.4375-6.4375 12.886718-6.4375 26.148437 0 13.265625 3.722656 20.714844 6.4375 26.152344 2.113281 4.230469 3.277343 6.558594 3.277343 12.746094 0 6.183593-1.164062 8.511719-3.277343 12.738281-2.714844 5.441406-6.4375 12.890625-6.4375 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m266.65625 116.683594h30c0-6.183594 1.164062-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113282-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164062-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113282 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164062 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m336.699219 116.683594h30c0-6.183594 1.164062-8.511719 3.277343-12.742188 2.71875-5.4375 6.441407-12.886718 6.441407-26.148437s-3.722657-20.714844-6.441407-26.152344c-2.113281-4.230469-3.277343-6.558594-3.277343-12.746094 0-6.183593 1.164062-8.511719 3.277343-12.742187 2.71875-5.4375 6.441407-12.890625 6.441407-26.152344h-30c0 6.1875-1.164063 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113281 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164063 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m201.179688 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667969 27.667969 15.253906 0 27.667968-12.410156 27.667968-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667968-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m286.515625 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.414063 27.667969 27.667969 27.667969 15.257813 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667969-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m371.851562 146.707031c-15.253906 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.414062 27.667969 27.667968 27.667969 15.257813 0 27.671876-12.410156 27.671876-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.671876-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m88.171875 299.734375v184.59375c0 15.257813 12.414063 27.667969 27.671875 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.671875 12.410157-27.671875 27.667969v35.3125h-57.648437v30.023438h-30.023438v30h30.023438v30.023437zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m484.859375 209.6875v-35.3125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667968 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-244.640625h27.625v-30zm0 0\" />";
  sayfa += "                    </svg>";
  sayfa += "                    <p>Petek 2</p>";
  sayfa += "                </div>";
  sayfa += "                <p class=\"item-value\"  style=\"margin:0\">";
  sayfa +=                  digitalRead(D3) ? "Açık" : "Kapalı";
  sayfa += "                </p>";
  sayfa += "            </a>";

  sayfa += "            <a href=\"/petekler?port=D4\" class=\"item-container\" style=\"background-color:";
  sayfa +=              digitalRead(D4) ? "#63da89;" : "#e386a1;";
  sayfa += "             \">";
  sayfa += "                <div class=\"item-title\">";
  sayfa += "                    <svg width=\"35\" height=\"35\" viewBox=\"0 0 511 511.998\" xmlns=\"http://www.w3.org/2000/svg\">";
  sayfa += "                        <path";
  sayfa += "                            d=\"m196.617188 116.683594h29.996093c0-6.183594 1.164063-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113281-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164063-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277343 12.746094-2.71875 5.4375-6.4375 12.886718-6.4375 26.148437 0 13.265625 3.722656 20.714844 6.4375 26.152344 2.113281 4.230469 3.277343 6.558594 3.277343 12.746094 0 6.183593-1.164062 8.511719-3.277343 12.738281-2.714844 5.441406-6.4375 12.890625-6.4375 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m266.65625 116.683594h30c0-6.183594 1.164062-8.511719 3.277344-12.742188 2.71875-5.4375 6.441406-12.886718 6.441406-26.148437s-3.722656-20.714844-6.441406-26.152344c-2.113282-4.230469-3.277344-6.558594-3.277344-12.746094 0-6.183593 1.164062-8.511719 3.277344-12.742187 2.71875-5.4375 6.441406-12.890625 6.441406-26.152344h-30c0 6.1875-1.164062 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113282 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164062 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m336.699219 116.683594h30c0-6.183594 1.164062-8.511719 3.277343-12.742188 2.71875-5.4375 6.441407-12.886718 6.441407-26.148437s-3.722657-20.714844-6.441407-26.152344c-2.113281-4.230469-3.277343-6.558594-3.277343-12.746094 0-6.183593 1.164062-8.511719 3.277343-12.742187 2.71875-5.4375 6.441407-12.890625 6.441407-26.152344h-30c0 6.1875-1.164063 8.515625-3.277344 12.746094-2.71875 5.4375-6.441406 12.886718-6.441406 26.148437 0 13.265625 3.722656 20.714844 6.441406 26.152344 2.113281 4.230469 3.277344 6.558594 3.277344 12.746094 0 6.183593-1.164063 8.511719-3.277344 12.738281-2.71875 5.441406-6.441406 12.890625-6.441406 26.152344zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m201.179688 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667969 27.667969 15.253906 0 27.667968-12.410156 27.667968-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667968-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m286.515625 146.707031c-15.257813 0-27.667969 12.410157-27.667969 27.667969v309.953125c0 15.257813 12.414063 27.667969 27.667969 27.667969 15.257813 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.410156-27.667969-27.667969-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m371.851562 146.707031c-15.253906 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.414062 27.667969 27.667968 27.667969 15.257813 0 27.671876-12.410156 27.671876-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.671876-27.667969zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m88.171875 299.734375v184.59375c0 15.257813 12.414063 27.667969 27.671875 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-309.953125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.671875 12.410157-27.671875 27.667969v35.3125h-57.648437v30.023438h-30.023438v30h30.023438v30.023437zm0 0\" />";
  sayfa += "                        <path";
  sayfa += "                            d=\"m484.859375 209.6875v-35.3125c0-15.257812-12.414063-27.667969-27.667969-27.667969-15.257812 0-27.667968 12.410157-27.667968 27.667969v309.953125c0 15.257813 12.410156 27.667969 27.667968 27.667969 15.253906 0 27.667969-12.410156 27.667969-27.667969v-244.640625h27.625v-30zm0 0\" />";
  sayfa += "                    </svg>";
  sayfa += "                    <p>Petek 3</p>";
  sayfa += "                </div>";
  sayfa += "                <p class=\"item-value\"  style=\"margin:0\">";
  sayfa +=                  digitalRead(D4) ? "Açık" : "Kapalı";
  sayfa += "                </p>";
  sayfa += "            </a>";

  sayfa += "    </div>";
  sayfa += "</div>";
  sayfa += "<style>";
  sayfa += "        .body {";
  sayfa += "            line-height: 1;";
  sayfa += "            font-family: -apple-system, BlinkMacSystemFont, sans-serif;";
  sayfa += "            color: #464646;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        a {";
  sayfa += "            color: #464646;";
  sayfa += "            text-decoration: none;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        /** NAVBAR **/";
  sayfa += "        .navbar {";
  sayfa += "            display: flex;";
  sayfa += "            justify-content: space-between;";
  sayfa += "            align-items: center;";
  sayfa += "            padding: 1.5em;";
  sayfa += "            background: #4C5566;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .navbar .title svg {";
  sayfa += "            fill: white;";
  sayfa += "            size: 24px;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .navbar .title span {";
  sayfa += "            font-size: 24px;";
  sayfa += "            font-weight: 700;";
  sayfa += "            color: white;";
  sayfa += "            margin-left: 0.3em;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .navbar .title {";
  sayfa += "            margin-right: 2em;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .header-left-container {";
  sayfa += "            display: flex;";
  sayfa += "            align-items: center;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .header-links a {";
  sayfa += "            color: white;";
  sayfa += "            margin-right: 10px;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .shutdown-button {";
  sayfa += "            background-color: #e53e3e;";
  sayfa += "            border-radius: 30px;";
  sayfa += "            padding: 0.6em;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .shutdown-button a {";
  sayfa += "            color: white;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        /* İÇERİK */";
  sayfa += "        .content {";
  sayfa += "            display: flex;";
  sayfa += "            flex-direction: column;";
  sayfa += "            align-items: center;";
  sayfa += "            padding: 5em 0 0 0;";
  sayfa += "        }";
  sayfa += "        .content .hello {";
  sayfa += "            font-size: 30px;";
  sayfa += "            margin-bottom: 1em;";
  sayfa += "        }";
  sayfa += "        .content #clock {";
  sayfa += "            font-size: 60px;";
  sayfa += "            font-weight: 700;";
  sayfa += "        }";
  sayfa += "        .grid-container {";
  sayfa += "            margin-top: 5em;";
  sayfa += "            display: grid;";
  sayfa += "            grid-template-columns: 240px 240px 240px;";
  sayfa += "            grid-template-rows: 240px 240px;";
  sayfa += "            row-gap: 15px;";
  sayfa += "            column-gap: 15px;";
  sayfa += "        }";
  sayfa += "        .grid-container .item-container {";
  sayfa += "            display: flex;";
  sayfa += "            flex-direction: column;";
  sayfa += "            justify-content: space-between;";
  sayfa += "            border-radius: 12px;";
  sayfa += "            cursor: pointer;";
  sayfa += "        }";
  sayfa += "        .grid-container svg {";
  sayfa += "            fill: rgba(0, 0, 0, 0.7)";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container:nth-of-type(1) {";
  sayfa += "            background: #f7d794;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container:nth-of-type(2) {";
  sayfa += "            background: #63cdda;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container:nth-of-type(3) {";
  sayfa += "            background: #cf6a87;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container:nth-of-type(4) {";
  sayfa += "            background: #f3a683;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container:nth-of-type(5) {";
  sayfa += "            background: #f8a5c2;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container:nth-of-type(6) {";
  sayfa += "            background: #ea8685;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container .item-title {";
  sayfa += "            font-size: 20px;";
  sayfa += "            font-weight: 300;";
  sayfa += "            padding: 1em;";
  sayfa += "            line-height: 30px;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container .item-title p {";
  sayfa += "            margin: 0.4em 0;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container .item-value {";
  sayfa += "            font-size: 25px;";
  sayfa += "            font-weight: 500;";
  sayfa += "            padding: 1em;";
  sayfa += "            background: rgba(255, 255, 255, 0.5);";
  sayfa += "            border-bottom-left-radius: 10px;";
  sayfa += "            border-bottom-right-radius: 10px;";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        .grid-container .item-container .item-value p select {";
  sayfa += "            transform: scale(1.2);";
  sayfa += "        }";
  sayfa += "";
  sayfa += "        /* 2. CONTAİNER */";
  sayfa += "        .second-container-title {";
  sayfa += "            font-size: 30px;";
  sayfa += "            font-weight: 500;";
  sayfa += "            margin-bottom: -30px;";
  sayfa += "            margin-right: 17em;";
  sayfa += "        }";
  sayfa += "    </style>";

  sayfa += "    <style>";
  sayfa += "        html, body, div, span, applet, object, iframe,";
  sayfa += "        h1, h2, h3, h4, h5, h6, p, blockquote, pre,";
  sayfa += "        a, abbr, acronym, address, big, cite, code,";
  sayfa += "        del, dfn, em, img, ins, kbd, q, s, samp,";
  sayfa += "        small, strike, strong, sub, sup, tt, var,";
  sayfa += "        b, u, i, center,";
  sayfa += "        dl, dt, dd, ol, ul, li,";
  sayfa += "        fieldset, form, label, legend,";
  sayfa += "        table, caption, tbody, tfoot, thead, tr, th, td,";
  sayfa += "        article, aside, canvas, details, embed, ";
  sayfa += "        figure, figcaption, footer, header, hgroup, ";
  sayfa += "        menu, nav, output, ruby, section, summary,";
  sayfa += "        time, mark, audio, video {";
  sayfa += "            margin: 0;";
  sayfa += "            padding: 0;";
  sayfa += "            border: 0;";
  sayfa += "            font-size: 100%;";
  sayfa += "            font: inherit;";
  sayfa += "            vertical-align: baseline;";
  sayfa += "        }";
  sayfa += "        /* HTML5 display-role reset for older browsers */";
  sayfa += "        article, aside, details, figcaption, figure, ";
  sayfa += "        footer, header, hgroup, menu, nav, section {";
  sayfa += "            display: block;";
  sayfa += "        }";
  sayfa += "        body {";
  sayfa += "            line-height: 1;";
  sayfa += "        }";
  sayfa += "        ol, ul {";
  sayfa += "            list-style: none;";
  sayfa += "        }";
  sayfa += "        blockquote, q {";
  sayfa += "            quotes: none;";
  sayfa += "        }";
  sayfa += "        blockquote:before, blockquote:after,";
  sayfa += "        q:before, q:after {";
  sayfa += "            content: '';";
  sayfa += "            content: none;";
  sayfa += "        }";
  sayfa += "        table {";
  sayfa += "            border-collapse: collapse;";
  sayfa += "            border-spacing: 0;";
  sayfa += "        }";
  sayfa += "    </style>";
  sayfa += "</body>";
  sayfa += "</html>";
  sunucu.send(200, "text/html; charset=utf-8", sayfa);
}

void sicaklik_sayfasi() {
  String sicaklik_sayfasi = "<!DOCTYPE html>";
  sicaklik_sayfasi += "<html lang=\"tr\">";
  sicaklik_sayfasi += "<head>";
  sicaklik_sayfasi += "    <meta charset=\"UTF-8\">";
  sicaklik_sayfasi += "    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">";
  sicaklik_sayfasi += "    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">";
  sicaklik_sayfasi += "    <meta http-equiv=\"refresh\" content=\"1\">";
  sicaklik_sayfasi += "    <title>Ev Otomasyonu</title>";
  sicaklik_sayfasi += "</head>";
  sicaklik_sayfasi += "<body class=\"body\">";
  sicaklik_sayfasi += "    <nav class=\"navbar\">";
  sicaklik_sayfasi += "        <div class=\"header-left-container\">";
  sicaklik_sayfasi += "            <a href=\"/\" class=\"title\">";
  sicaklik_sayfasi += "                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\">";
  sicaklik_sayfasi += "                    <path d=\"M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z\" /></svg>";
  sicaklik_sayfasi += "                <span class=\"font-semibold text-xl tracking-tight\">Ev Otomasyonu</span>";
  sicaklik_sayfasi += "            </a>";
  sicaklik_sayfasi += "            <div class=\"header-links\">";
  sicaklik_sayfasi += "                <a href=\"/sicaklik\"";
  sicaklik_sayfasi += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  sicaklik_sayfasi += "                    Anlık Sıcaklık";
  sicaklik_sayfasi += "                </a>";
  sicaklik_sayfasi += "                <a href=\"/petekler\"";
  sicaklik_sayfasi += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  sicaklik_sayfasi += "                    Petek Durumu";
  sicaklik_sayfasi += "                </a>";
  sicaklik_sayfasi += "                <a href=\"/led?r=255&g=255&b=255\"";
  sicaklik_sayfasi += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  sicaklik_sayfasi += "                    Ampul Durumu";
  sicaklik_sayfasi += "                </a>";
  sicaklik_sayfasi += "            </div>";
  sicaklik_sayfasi += "        </div>";
  sicaklik_sayfasi += "        <div class=\"shutdown-button\">";
  sicaklik_sayfasi += "            <a href=\"#responsive-header\">";
  sicaklik_sayfasi += "                Sistemi Kapat";
  sicaklik_sayfasi += "            </a>";
  sicaklik_sayfasi += "        </div>";
  sicaklik_sayfasi += "    </nav>";
  sicaklik_sayfasi += "    <div class=\"content\">";
  sicaklik_sayfasi += "        <br>";
  sicaklik_sayfasi += "        <br>";
  sicaklik_sayfasi += "        <br>";
  sicaklik_sayfasi += "        <p class=\"second-container-title\">Anlık Sıcaklık</p>";
  sicaklik_sayfasi += "        <br>";
  sicaklik_sayfasi += "        <br>";
  sicaklik_sayfasi += "        <br>";
  sicaklik_sayfasi += "        <p id=\"clock\">";
  sicaklik_sayfasi +=           sicaklik_olc();
  sicaklik_sayfasi += "         °</p>";
  sicaklik_sayfasi += "    </div>";
  sicaklik_sayfasi += "    <script>";
  sicaklik_sayfasi += "        function durumDegistir(i) {";
  sicaklik_sayfasi += "            console.log(i);";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "    </script>";
  sicaklik_sayfasi += "    <style>";
  sicaklik_sayfasi += "        .body {";
  sicaklik_sayfasi += "            line-height: 1;";
  sicaklik_sayfasi += "            font-family: -apple-system, BlinkMacSystemFont, sans-serif;";
  sicaklik_sayfasi += "            color: #464646;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        a {";
  sicaklik_sayfasi += "            color: #464646;";
  sicaklik_sayfasi += "            text-decoration: none;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        /** NAVBAR **/";
  sicaklik_sayfasi += "        .navbar {";
  sicaklik_sayfasi += "            display: flex;";
  sicaklik_sayfasi += "            justify-content: space-between;";
  sicaklik_sayfasi += "            align-items: center;";
  sicaklik_sayfasi += "            padding: 1.5em;";
  sicaklik_sayfasi += "            background: #4C5566;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .navbar .title svg {";
  sicaklik_sayfasi += "            fill: white;";
  sicaklik_sayfasi += "            size: 24px;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .navbar .title span {";
  sicaklik_sayfasi += "            font-size: 24px;";
  sicaklik_sayfasi += "            font-weight: 700;";
  sicaklik_sayfasi += "            color: white;";
  sicaklik_sayfasi += "            margin-left: 0.3em;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .navbar .title {";
  sicaklik_sayfasi += "            margin-right: 2em;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .header-left-container {";
  sicaklik_sayfasi += "            display: flex;";
  sicaklik_sayfasi += "            align-items: center;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .header-links a {";
  sicaklik_sayfasi += "            color: white;";
  sicaklik_sayfasi += "            margin-right: 10px;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .shutdown-button {";
  sicaklik_sayfasi += "            background-color: #e53e3e;";
  sicaklik_sayfasi += "            border-radius: 30px;";
  sicaklik_sayfasi += "            padding: 0.6em;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .shutdown-button a {";
  sicaklik_sayfasi += "            color: white;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        /* İÇERİK */";
  sicaklik_sayfasi += "        .content {";
  sicaklik_sayfasi += "            display: flex;";
  sicaklik_sayfasi += "            flex-direction: column;";
  sicaklik_sayfasi += "            align-items: center;";
  sicaklik_sayfasi += "            padding: 5em 0 0 0;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .content .hello {";
  sicaklik_sayfasi += "            font-size: 30px;";
  sicaklik_sayfasi += "            margin-bottom: 1em;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        .content #clock {";
  sicaklik_sayfasi += "            font-size: 60px;";
  sicaklik_sayfasi += "            font-weight: 700;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "";
  sicaklik_sayfasi += "        /* 2. CONTAİNER */";
  sicaklik_sayfasi += "        .second-container-title {";
  sicaklik_sayfasi += "            font-size: 30px;";
  sicaklik_sayfasi += "            font-weight: 500;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "    </style>";
  sicaklik_sayfasi += "    <style>";
  sicaklik_sayfasi += "        html, body, div, span, applet, object, iframe,";
  sicaklik_sayfasi += "        h1, h2, h3, h4, h5, h6, p, blockquote, pre,";
  sicaklik_sayfasi += "        a, abbr, acronym, address, big, cite, code,";
  sicaklik_sayfasi += "        del, dfn, em, img, ins, kbd, q, s, samp,";
  sicaklik_sayfasi += "        small, strike, strong, sub, sup, tt, var,";
  sicaklik_sayfasi += "        b, u, i, center,";
  sicaklik_sayfasi += "        dl, dt, dd, ol, ul, li,";
  sicaklik_sayfasi += "        fieldset, form, label, legend,";
  sicaklik_sayfasi += "        table, caption, tbody, tfoot, thead, tr, th, td,";
  sicaklik_sayfasi += "        article, aside, canvas, details, embed, ";
  sicaklik_sayfasi += "        figure, figcaption, footer, header, hgroup, ";
  sicaklik_sayfasi += "        menu, nav, output, ruby, section, summary,";
  sicaklik_sayfasi += "        time, mark, audio, video {";
  sicaklik_sayfasi += "            margin: 0;";
  sicaklik_sayfasi += "            padding: 0;";
  sicaklik_sayfasi += "            border: 0;";
  sicaklik_sayfasi += "            font-size: 100%;";
  sicaklik_sayfasi += "            font: inherit;";
  sicaklik_sayfasi += "            vertical-align: baseline;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "        /* HTML5 display-role reset for older browsers */";
  sicaklik_sayfasi += "        article, aside, details, figcaption, figure, ";
  sicaklik_sayfasi += "        footer, header, hgroup, menu, nav, section {";
  sicaklik_sayfasi += "            display: block;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "        body {";
  sicaklik_sayfasi += "            line-height: 1;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "        ol, ul {";
  sicaklik_sayfasi += "            list-style: none;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "        blockquote, q {";
  sicaklik_sayfasi += "            quotes: none;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "        blockquote:before, blockquote:after,";
  sicaklik_sayfasi += "        q:before, q:after {";
  sicaklik_sayfasi += "            content: '';";
  sicaklik_sayfasi += "            content: none;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "        table {";
  sicaklik_sayfasi += "            border-collapse: collapse;";
  sicaklik_sayfasi += "            border-spacing: 0;";
  sicaklik_sayfasi += "        }";
  sicaklik_sayfasi += "    </style>";
  sicaklik_sayfasi += "</body>";
  sicaklik_sayfasi += "<script>";
  sicaklik_sayfasi += "setTimeout(function(){ window.location.reload(1); }, 1000);";
  sicaklik_sayfasi += "</script>";
  sicaklik_sayfasi += "</html>";
  sunucu.send(200, "text/html; charset=utf-8", sicaklik_sayfasi);
}

void led_sayfasi() {
  int r = 0;
  int g  = 0;
  int b = 0;
  r = sunucu.arg(0).toInt();
  g = sunucu.arg(1).toInt();
  b = sunucu.arg(2).toInt();
  analogWrite(redPin, r);
  analogWrite(grnPin, g);
  analogWrite(bluPin, b);

  String led_sayfasi = "<!DOCTYPE html>";
  led_sayfasi += "<html lang=\"tr\">";
  led_sayfasi += "<head>";
  led_sayfasi += "    <meta charset=\"UTF-8\">";
  led_sayfasi += "    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">";
  led_sayfasi += "    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">";
  led_sayfasi += "    <title>Ev Otomasyonu</title>";
  led_sayfasi += "</head>";
  led_sayfasi += "<body class=\"body\">";
  led_sayfasi += "    <nav class=\"navbar\">";
  led_sayfasi += "        <div class=\"header-left-container\">";
  led_sayfasi += "            <a href=\"/\" class=\"title\">";
  led_sayfasi += "                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\">";
  led_sayfasi += "                    <path d=\"M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z\" /></svg>";
  led_sayfasi += "                <span class=\"font-semibold text-xl tracking-tight\">Ev Otomasyonu</span>";
  led_sayfasi += "            </a>";
  led_sayfasi += "            <div class=\"header-links\">";
  led_sayfasi += "                <a href=\"#responsive-header\"";
  led_sayfasi += "                    class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  led_sayfasi += "                    Anlık Sıcaklık";
  led_sayfasi += "                </a>";
  led_sayfasi += "                <a href=\"/petekler\" class=\"block mt-4 lg:inline-block lg:mt-0 text-teal-200 hover:text-white mr-4\">";
  led_sayfasi += "                    Petek Durumu";
  led_sayfasi += "                </a>";
  led_sayfasi += "            </div>";
  led_sayfasi += "        </div>";
  led_sayfasi += "        <div class=\"shutdown-button\">";
  led_sayfasi += "            <a href=\"#responsive-header\">";
  led_sayfasi += "                Sistemi Kapat";
  led_sayfasi += "            </a>";
  led_sayfasi += "        </div>";
  led_sayfasi += "    </nav>";
  led_sayfasi += "    <div class=\"content\">";
  led_sayfasi += "        <br>";
  led_sayfasi += "        <br>";
  led_sayfasi += "        <br>";
  led_sayfasi += "        <p class=\"second-container-title\">Ampul rengi:</p>";
  led_sayfasi += "        <br>";
  led_sayfasi += "        <br>";
  led_sayfasi += "        <br>";
  led_sayfasi += "        <p id=\"clock\">R: ";
  led_sayfasi += r;
  led_sayfasi += "  , G: ";
  led_sayfasi += g;
  led_sayfasi += " , B: ";
  led_sayfasi += b;
  led_sayfasi += "</p>";

  led_sayfasi += "<div class=\"color_container\">";
  led_sayfasi += "            <a href=\"/led?r=220&g=220&b=220\" style=\"background:rgb(220,220,220)\" class=\"box\"></a>";
  led_sayfasi += "            <a href=\"/led?r=213g=72&b=62\" style=\"background:rgb(213,72,62)\" class=\"box\"></a>";
  led_sayfasi += "            <a href=\"/led?r=220&g=170&b=70\" style=\"background:rgb(220,170,70)\" class=\"box\"></a>";
  led_sayfasi += "            <a href=\"/led?r=129&g=214&b=144\" style=\"background:rgb(129,214,144)\" class=\"box\"></a>";
  led_sayfasi += "            <a href=\"/led?r=66&g=67&b=139\" style=\"background:rgb(66,67,139)\" class=\"box\"></a>";
  led_sayfasi += "            <a href=\"/led?r=61&g=128&b=231\" style=\"background:rgb(61,128,231)\" class=\"box\"></a>";
  led_sayfasi += "        </div>";


  led_sayfasi += "    </div>";
  led_sayfasi += "    <style>";
  led_sayfasi += ".color_container { margin-top:6em; display: grid; grid-template-columns: 100px 100px 100px; grid-template-rows: 100px 100px 100px; grid-gap: 10px; } ";
  led_sayfasi += ".box { border-radius: 4px; padding: 20px;}";
  led_sayfasi += "        .body {";
  led_sayfasi += "            background:rgb(";
  led_sayfasi +=                              r;
  led_sayfasi +=                             ",";
  led_sayfasi +=                              g;
  led_sayfasi +=                             ",";
  led_sayfasi +=                              b;
  led_sayfasi +=                            ");";
  led_sayfasi += "            line-height: 1;";
  led_sayfasi += "            font-family: -apple-system, BlinkMacSystemFont, sans-serif;";
  led_sayfasi += "            color: #464646;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        a {";
  led_sayfasi += "            color: #464646;";
  led_sayfasi += "            text-decoration: none;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        /** NAVBAR **/";
  led_sayfasi += "        .navbar {";
  led_sayfasi += "            display: flex;";
  led_sayfasi += "            justify-content: space-between;";
  led_sayfasi += "            align-items: center;";
  led_sayfasi += "            padding: 1.5em;";
  led_sayfasi += "            background: #4C5566;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .navbar .title svg {";
  led_sayfasi += "            fill: white;";
  led_sayfasi += "            size: 24px;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .navbar .title span {";
  led_sayfasi += "            font-size: 24px;";
  led_sayfasi += "            font-weight: 700;";
  led_sayfasi += "            color: white;";
  led_sayfasi += "            margin-left: 0.3em;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .navbar .title {";
  led_sayfasi += "            margin-right: 2em;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .header-left-container {";
  led_sayfasi += "            display: flex;";
  led_sayfasi += "            align-items: center;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .header-links a {";
  led_sayfasi += "            color: white;";
  led_sayfasi += "            margin-right: 10px;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .shutdown-button {";
  led_sayfasi += "            background-color: #e53e3e;";
  led_sayfasi += "            border-radius: 30px;";
  led_sayfasi += "            padding: 0.6em;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .shutdown-button a {";
  led_sayfasi += "            color: white;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        /* İÇERİK */";
  led_sayfasi += "        .content {";
  led_sayfasi += "            display: flex;";
  led_sayfasi += "            flex-direction: column;";
  led_sayfasi += "            align-items: center;";
  led_sayfasi += "            padding: 5em 0 0 0;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .content .hello {";
  led_sayfasi += "            font-size: 30px;";
  led_sayfasi += "            margin-bottom: 1em;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        .content #clock {";
  led_sayfasi += "            font-size: 60px;";
  led_sayfasi += "            font-weight: 700;";
  led_sayfasi += "        }";
  led_sayfasi += "";
  led_sayfasi += "        /* 2. CONTAİNER */";
  led_sayfasi += "        .second-container-title {";
  led_sayfasi += "            font-size: 30px;";
  led_sayfasi += "            font-weight: 500;";
  led_sayfasi += "        }";
  led_sayfasi += "    </style>";
  led_sayfasi += "    <style>";
  led_sayfasi += "        html, body, div, span, applet, object, iframe,";
  led_sayfasi += "        h1, h2, h3, h4, h5, h6, p, blockquote, pre,";
  led_sayfasi += "        a, abbr, acronym, address, big, cite, code,";
  led_sayfasi += "        del, dfn, em, img, ins, kbd, q, s, samp,";
  led_sayfasi += "        small, strike, strong, sub, sup, tt, var,";
  led_sayfasi += "        b, u, i, center,";
  led_sayfasi += "        dl, dt, dd, ol, ul, li,";
  led_sayfasi += "        fieldset, form, label, legend,";
  led_sayfasi += "        table, caption, tbody, tfoot, thead, tr, th, td,";
  led_sayfasi += "        article, aside, canvas, details, embed, ";
  led_sayfasi += "        figure, figcaption, footer, header, hgroup, ";
  led_sayfasi += "        menu, nav, output, ruby, section, summary,";
  led_sayfasi += "        time, mark, audio, video {";
  led_sayfasi += "            margin: 0;";
  led_sayfasi += "            padding: 0;";
  led_sayfasi += "            border: 0;";
  led_sayfasi += "            font-size: 100%;";
  led_sayfasi += "            font: inherit;";
  led_sayfasi += "            vertical-align: baseline;";
  led_sayfasi += "        }";
  led_sayfasi += "        /* HTML5 display-role reset for older browsers */";
  led_sayfasi += "        article, aside, details, figcaption, figure, ";
  led_sayfasi += "        footer, header, hgroup, menu, nav, section {";
  led_sayfasi += "            display: block;";
  led_sayfasi += "        }";
  led_sayfasi += "        body {";
  led_sayfasi += "            line-height: 1;";
  led_sayfasi += "        }";
  led_sayfasi += "        ol, ul {";
  led_sayfasi += "            list-style: none;";
  led_sayfasi += "        }";
  led_sayfasi += "        blockquote, q {";
  led_sayfasi += "            quotes: none;";
  led_sayfasi += "        }";
  led_sayfasi += "        blockquote:before, blockquote:after,";
  led_sayfasi += "        q:before, q:after {";
  led_sayfasi += "            content: '';";
  led_sayfasi += "            content: none;";
  led_sayfasi += "        }";
  led_sayfasi += "        table {";
  led_sayfasi += "            border-collapse: collapse;";
  led_sayfasi += "            border-spacing: 0;";
  led_sayfasi += "        }";
  led_sayfasi += "    </style>";
  led_sayfasi += "</body>";
  led_sayfasi += "</html>";
  sunucu.send(200, "text/html; charset=utf-8", led_sayfasi);
}

void bilinmeyen_sayfa() {
  sunucu.send(404, "text/plain; charset=utf-8", "404: Sayfa Bulunamadı");
}
void yazdir(IPAddress IP,  bool D0) {
  ekran.clearDisplay();
  ekran.setTextSize(1);
  ekran.setTextColor(WHITE);
  ekran.setCursor(0, 0);
  int i = 0;
  if (digitalRead(D8) == HIGH) {
    i++;
  }
  switch (i) {
    case 0:
      ekran.print("Sunucu Adresi:");
      ekran.println(IP);
      break;
    case 1:
      ekran.print("Sıcaklık: ");
      ekran.println(sicaklik_olc());
      break;
    case 2:
      ekran.print("Petek 1: ");
      ekran.println(digitalRead(D0) ? "Açık" : "Kapalı");
      break;
    case 3:
      ekran.print("Petek 2: ");
      ekran.println(digitalRead(D3) ? "Açık" : "Kapalı");
      break;
    case 4:
      ekran.print("Petek 3: ");
      ekran.println(digitalRead(D4) ? "Açık" : "Kapalı");
      break;
    default:
      break;
  }
  ekran.display();
  if (i == 5) {
    i = 0;
  }
}
float sicaklik_olc() {
  float temp;
  unsigned int toplam = 0, ortalama = 0;
  for (byte i = 0; i < 50; i++) {
    toplam += analogRead(A0);
  }
  ortalama = toplam / 50;
  temp = ortalama * 0.09765625;
  return temp;
}
